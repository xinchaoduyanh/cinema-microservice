# ============================================
# Docker Environment Configuration
# ============================================
# This file is used when running services INSIDE Docker containers
# For local development (running services on host machine), use .env file

TZ=UTC
NODE_ENV=local
FRONTEND_URL=

# ============================================
# API Gateway (APISIX) Configuration
# ============================================
APISIX_PROFILE=dev
APISIX_NODE_LISTEN=9080
APISIX_DEPLOYMENT_ADMIN_LISTEN=9180
APISIX_KEY=edd1c9f034335f136f87ad84b625c8f1
APISIX_STAND_ALONE=false
ETCD_URL=http://etcd:2379
APISIX_HOMEPAGE_HOST=apisix-homepage
APISIX_HOMEPAGE_PORT=9280

# Service hosts (using container names for Docker networking)
APISIX_AUTH_SERVICE_HOST=nest_turbo_node
APISIX_AUTH_SERVICE_PORT=3300
APISIX_USER_SERVICE_HOST=nest_turbo_node
APISIX_USER_SERVICE_PORT=3301
APISIX_MOVIE_SERVICE_HOST=nest_turbo_node
APISIX_MOVIE_SERVICE_PORT=3302
APISIX_NOTIFICATION_SERVICE_HOST=nest_turbo_node
APISIX_NOTIFICATION_SERVICE_PORT=3303
APISIX_CINEMA_SERVICE_HOST=nest_turbo_node
APISIX_CINEMA_SERVICE_PORT=3302
APISIX_BOOKING_SERVICE_HOST=nest_turbo_node
APISIX_BOOKING_SERVICE_PORT=3302
APISIX_SHOWTIME_SERVICE_HOST=nest_turbo_node
APISIX_SHOWTIME_SERVICE_PORT=3302
APISIX_PAYMENT_SERVICE_HOST=nest_turbo_node
APISIX_PAYMENT_SERVICE_PORT=3302

# ============================================
# Database Configuration (Default PostgreSQL)
# ============================================
DEFAULT_PG_DATABASE=ai-agent
DEFAULT_PG_USER=postgres
DEFAULT_PG_PASSWORD=secret

# ============================================
# Redis Configuration
# ============================================
# IMPORTANT: Use container name 'redis' for Docker, 'localhost' for local dev
REDIS_URL=redis://redis:6379

# ============================================
# Kafka Configuration
# ============================================
# IMPORTANT: Use container name 'kafka' for Docker, 'localhost' for local dev
KAFKA_BROKERS=kafka:9092
KAFKA_HEARTBEAT_INTERVAL=2000
KAFKA_SESSION_TIMEOUT=60000
KAFKA_SASL_ENABLED=false
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# ============================================
# Service Timeout
# ============================================
CALL_SERVICE_TIMEOUT=30000

# ============================================
# JWT Configuration
# ============================================
JWT_SECRET=S7M7O3nEa5Zks1L0NChcSiz0Xy9RCHgC1rxPjXG1hY8
JWT_ACCESS_TOKEN_EXPIRES_IN=30d
JWT_REFRESH_TOKEN_EXPIRES_IN=30d
JWT_ISSUER=ai-agent

# ============================================
# TCP Service Configuration (Internal)
# ============================================
TCP_AUTH_SERVICE_HOST=0.0.0.0
TCP_AUTH_SERVICE_PORT=3310
TCP_USER_SERVICE_HOST=0.0.0.0
TCP_USER_SERVICE_PORT=3311
TCP_NOTIFICATION_SERVICE_HOST=0.0.0.0
TCP_NOTIFICATION_SERVICE_PORT=3313

# ============================================
# AWS SES Configuration
# ============================================
AWS_SES_ACCESS_KEY_ID=your-access-key
AWS_SES_ACCESS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_SES_SENDER=your-sender-mail
AWS_SES_REGION=ap-southeast-1

# ============================================
# AWS S3 Configuration
# ============================================
AWS_S3_REGION=ap-southeast-1
AWS_S3_ACCESS_KEY_ID=your-key
AWS_S3_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET_NAME=-your-bucket
AWS_S3_URL=your-url

# ============================================
# SMTP Configuration
# ============================================
MAIL_DRIVER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_SENDER=
MAIL_SECURE=true

# ============================================
# User Service Database (Neon Cloud)
# ============================================
USER_SERVICE_DB_DATABASE=cinema_user
USER_SERVICE_DB_HOST=ep-icy-cherry-a16cedcy-pooler.ap-southeast-1.aws.neon.tech
USER_SERVICE_DB_PORT=5432
USER_SERVICE_DB_USERNAME=neondb_owner
USER_SERVICE_DB_PASSWORD=npg_MjO9XBqrSlx4
USER_SERVICE_DB_SCHEMA=public
USER_SERVICE_DB_SSL=true
USER_SERVICE_DB_URL=postgresql://neondb_owner:npg_MjO9XBqrSlx4@ep-icy-cherry-a16cedcy-pooler.ap-southeast-1.aws.neon.tech/cinema_user?sslmode=require

# ============================================
# Movie Service Database (Neon Cloud)
# ============================================
MOVIE_SERVICE_DB_DATABASE=cinema_movie
MOVIE_SERVICE_DB_HOST=ep-icy-cherry-a16cedcy-pooler.ap-southeast-1.aws.neon.tech
MOVIE_SERVICE_DB_PORT=5432
MOVIE_SERVICE_DB_USERNAME=neondb_owner
MOVIE_SERVICE_DB_PASSWORD=npg_MjO9XBqrSlx4
MOVIE_SERVICE_DB_SCHEMA=public
MOVIE_SERVICE_DB_SSL=true
MOVIE_SERVICE_DB_URL=postgresql://neondb_owner:npg_MjO9XBqrSlx4@ep-icy-cherry-a16cedcy-pooler.ap-southeast-1.aws.neon.tech/cinema_movie?sslmode=require

# ============================================
# Application Ports
# ============================================
AUTH_SERVICE_APP_PORT=3300
USER_SERVICE_APP_PORT=3301
MOVIE_SERVICE_APP_PORT=3302
NOTIFICATION_SERVICE_APP_PORT=3303

# ============================================
# Application Names
# ============================================
AUTH_SERVICE_APP_NAME=auth-service
USER_SERVICE_APP_NAME=user-service
MOVIE_SERVICE_APP_NAME=movie-service
NOTIFICATION_SERVICE_APP_NAME=notification-service
